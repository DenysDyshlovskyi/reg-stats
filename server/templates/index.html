<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>regstats - Monitor Mode</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        {{ index_css | safe }}
    </style>
</head>

<body>
    <section id="slide1">
        <h1>All Clients</h1>
        <div class="flex-wrap">
            <div class="panel">
                <h3>Total Clients</h3>
                <div class="chart-box"><canvas id="totalClientsChart"></canvas></div>
                <table>
                    <tr>
                        <td>Servers</td>
                        <td id="totalServers">0</td>
                    </tr>
                    <tr>
                        <td>PCs</td>
                        <td id="totalPCs">0</td>
                    </tr>
                </table>
            </div>
            <div class="panel">
                <h3>Status Overview</h3>
                <div class="chart-box"><canvas id="statusChart"></canvas></div>
            </div>
            <div class="panel">
                <h3>Fleet CPU</h3>
                <div class="chart-box"><canvas id="fleetCpuChart"></canvas></div>
            </div>
        </div>
    </section>

    {% for client in clients %}
        <section id="{{ client.id }}-slide">
            <h1>Client: {{ client.nickname }}</h1>
            <div class="flex-wrap">
                <div class="panel">
                    <h3>CPU Usage Trends</h3>
                    <div class="chart-box"><canvas id="{{ client.id }}-cpu"></canvas></div>
                </div>
                <div class="panel">
                    <h3>Memory Usage Trends</h3>
                    <div class="chart-box"><canvas id="{{ client.id }}-memory"></canvas></div>
                </div>
                <div class="panel">
                    <h3>Disk I/O Performance</h3>
                    <div class="chart-box"><canvas id="{{ client.id }}-diskIo"></canvas></div>
                </div>
                <div class="panel">
                    <h3>Network</h3>
                    <div class="chart-box"><canvas id="{{ client.id }}-network"></canvas></div>
                </div>
                <div class="panel">
                    <h3>Uptime</h3>
                    <p id="{{ client.id }}-uptime">0d 0h 0m</p>
                </div>
            </div>
        </section>
    {% endfor %}

    <script>
        {% if startup_data %}
            const page_load_data = {{ startup_data| safe }}
        {% else %}
            const page_load_data = []
        {% endif %}
        const clients_info = {{ clients_info_json | safe }}
    </script>
    <script>
        {{ index_js | safe }}
    </script>
</body>

</html>